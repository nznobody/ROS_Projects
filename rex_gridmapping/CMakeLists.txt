#Generated by VisualGDB project wizard.
#Note: VisualGDB will automatically update this file when you add new sources to the project.

cmake_minimum_required(VERSION 2.7)
project(rex_gridmapping)

## System dependencies are found with CMake's conventions
find_package(catkin REQUIRED COMPONENTS
  cmake_modules
  grid_map_core
  grid_map_ros
  grid_map_msgs
  pcl_ros
  roscpp
  message_filters
  sensor_msgs
  std_msgs
  tf
  tf_conversions
  eigen_conversions
  sm_common
  sm_timing
)
# e.g. find_package(Boost REQUIRED COMPONENTS system)
find_package(PCL REQUIRED)
find_package(Boost REQUIRED COMPONENTS system)
find_package(Eigen3 REQUIRED)
find_package(PkgConfig REQUIRED)

# Attempt to find catkinized kindr
find_package(kindr QUIET)
if(NOT kindr_FOUND)
  # Attempt to find package-based kindr
  pkg_check_modules(kindr kindr REQUIRED)
endif()

set( LIBS ${LIBS} 
	${PCL_LIBRARIES}
	${Eigen3_LIBRARIES}
	${sm_common_LIBRARIES} 
	${sm_timing_LIBRARIES}
)
include_directories( SYSTEM
include
  ${catkin_INCLUDE_DIRS}
  ${Boost_INCLUDE_DIRS}
  ${Kindr_INCLUDE_DIRS}
  ${kindr_INCLUDE_DIRS}
  ${sm_common_INCLUDE_DIRS}
  ${sm_timing_INCLUDE_DIRS}
  ${PCL_INCLUDE_DIRS}
  ${Eigen3_INCLUDE_DIRS}
)

## Required for ros + catkin_make
catkin_package(
	INCLUDE_DIRS include
## LIBRARIES: libraries you create in this project that dependent projects also need
## CATKIN_DEPENDS: catkin_packages dependent projects also need
## DEPENDS: system dependencies of this project that dependent projects also need
	CATKIN_DEPENDS  
	  grid_map_core
	  grid_map_ros
	  grid_map_msgs
	  pcl_ros
	  roscpp
	  message_filters
	  sensor_msgs
	  std_msgs
	  tf
	  tf_conversions
	  eigen_conversions
)

set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=gnu++11 -Ofast -march=armv8-a -mrestrict-it -mfpu=neon-fp-armv8")

###########
## Build ##
###########
# Add ouputs
add_executable(rex_gridmapping 
	src/elevation_mapping_node.cpp
  src/ElevationMapping.cpp
  src/ElevationMap.cpp
  src/RobotMotionMapUpdater.cpp
  src/sensor_processors/SensorProcessorBase.cpp
  src/sensor_processors/KinectSensorProcessor.cpp
  src/sensor_processors/StereoSensorProcessor.cpp
  src/sensor_processors/Stereo2SensorProcessor.cpp
  src/sensor_processors/LaserSensorProcessor.cpp
  src/sensor_processors/PerfectSensorProcessor.cpp)
target_link_libraries(${PROJECT_NAME} ${catkin_LIBRARIES} ${LIBS})
add_dependencies(${PROJECT_NAME} ${catkin_EXPORTED_TARGETS})

#############
## Install ##
#############
## Mark executables and/or libraries for installation
install(TARGETS ${PROJECT_NAME} ${PROJECT_NAME}
   ARCHIVE DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}
   LIBRARY DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}
   RUNTIME DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
)

## Mark cpp header files for installation
install(DIRECTORY include/${PROJECT_NAME}/
   DESTINATION ${CATKIN_PACKAGE_INCLUDE_DESTINATION}
   FILES_MATCHING PATTERN "*.h"
   PATTERN ".svn" EXCLUDE
)
